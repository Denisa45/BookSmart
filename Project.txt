Perfect ğŸ‘Œ â€” hereâ€™s your **ğŸ’¡ Transition Plan** to evolve *BookSmart* from a simple WinForms + text file project into a full-stack modern app with database + optional Angular frontend.

---

## ğŸªœ **PHASED TRANSITION PLAN**

### ğŸ§© **Phase 1 â€” Build the Core (WinForms + Text Files)**

**Goal:** Finish your class assignment version using only C# and `.txt` files.

#### âœ… Features to Implement

* **WinForms UI**:

  * TextBoxes for customer name, book title, rental days
  * Buttons for Add / Rent / Search / Order
  * Labels and ListBox for feedback & lists
* **C# Classes:**

  * `Book`, `Customer`, `Rental`, `Order`
* **File Handling:**

  * `books.txt` â€“ inventory
  * `rentals.txt` â€“ active rentals
  * `orders.txt` â€“ ordered books
  * `config.txt` â€“ parameters (`rental_days`, `fee_per_day`)
* **Core Logic:**

  * Search book availability
  * Rent books with due dates
  * Calculate late fees
  * Order unavailable books

#### ğŸ§± Example Methods

```csharp
List<Book> LoadBooksFromFile(string filePath);
void SaveBooksToFile(List<Book> books);
Book? SearchBook(string title);
decimal CalculateLateFee(DateTime dueDate, DateTime returnDate);
```

â¡ï¸ **Result:** Fully working local WinForms app for the course demo.
Everything is file-based and self-contained.

---

### ğŸ§© **Phase 2 â€” Introduce Database (Replace Files with SQLite or MySQL)**

**Goal:** Replace `.txt` file I/O with a real database, keeping your app logic mostly unchanged.

#### ğŸ”§ Technologies

* **Database:** SQLite (easiest) or MySQL
* **ORM:** Entity Framework Core (C#)
* **Tool:** DBeaver (for viewing tables and testing queries)

#### ğŸ§± Steps

1. **Create tables**:

   * `Books`, `Customers`, `Rentals`, `Orders`
2. **Add EF Core NuGet packages**:

   ```bash
   Install-Package Microsoft.EntityFrameworkCore
   Install-Package Microsoft.EntityFrameworkCore.Sqlite
   Install-Package Microsoft.EntityFrameworkCore.Tools
   ```
3. **Create a `BookSmartContext` class:**

   ```csharp
   public class BookSmartContext : DbContext
   {
       public DbSet<Book> Books { get; set; }
       public DbSet<Customer> Customers { get; set; }
       public DbSet<Rental> Rentals { get; set; }
       public DbSet<Order> Orders { get; set; }

       protected override void OnConfiguring(DbContextOptionsBuilder options)
           => options.UseSqlite("Data Source=booksmart.db");
   }
   ```
4. **Refactor file-based methods** to use EF queries instead:

   ```csharp
   var book = context.Books.FirstOrDefault(b => b.Title == title);
   context.Rentals.Add(new Rental { BookId = book.Id, DueDate = ... });
   context.SaveChanges();
   ```

â¡ï¸ **Result:** Same WinForms UI, but data is now in a database and easily viewable in DBeaver.

---

### ğŸ§© **Phase 3 â€” Add Web API (ASP.NET Core Backend)**

**Goal:** Expose your data and logic through RESTful API endpoints.

#### ğŸ”§ Technologies

* **Backend:** ASP.NET Core Web API
* **ORM:** Entity Framework Core (reuse same model classes)
* **Testing:** Postman

#### ğŸ§± Example Endpoints

| HTTP Method                    | Endpoint                         | Description |
| ------------------------------ | -------------------------------- | ----------- |
| `GET /api/books`               | List all books                   |             |
| `GET /api/books/{title}`       | Search by title                  |             |
| `POST /api/rentals`            | Rent a book                      |             |
| `PUT /api/rentals/return/{id}` | Return a book                    |             |
| `POST /api/orders`             | Place order for unavailable book |             |

#### ğŸ§± Example Code Snippet

```csharp
[ApiController]
[Route("api/[controller]")]
public class BooksController : ControllerBase
{
    private readonly BookSmartContext _context;

    public BooksController(BookSmartContext context) => _context = context;

    [HttpGet("{title}")]
    public IActionResult GetBook(string title)
    {
        var book = _context.Books.FirstOrDefault(b => b.Title == title);
        return book == null ? NotFound() : Ok(book);
    }
}
```

â¡ï¸ **Result:** You can now open **Postman** and test requests like:

```
GET http://localhost:5000/api/books/Harry%20Potter
```

---

### ğŸ§© **Phase 4 â€” Add Angular Frontend (Optional Web UI)**

**Goal:** Create a browser-based UI that interacts with your ASP.NET Core API.

#### ğŸ”§ Technologies

* **Frontend:** Angular 17+
* **HTTP Library:** Angular HttpClient
* **Tooling:** Node.js, npm

#### ğŸ§± Steps

1. Create project:

   ```bash
   ng new booksmart-ui
   cd booksmart-ui
   ng serve
   ```
2. Connect to your API:

   ```typescript
   this.http.get<Book[]>('http://localhost:5000/api/books')
       .subscribe(books => this.books = books);
   ```
3. Build pages:

   * ğŸ“š Book List
   * ğŸ‘¤ Customers
   * ğŸ•“ Rentals
   * ğŸ›’ Orders

â¡ï¸ **Result:** Full-stack BookSmart system:

```
Angular (frontend)
      â†“ HTTP
ASP.NET Core Web API (backend)
      â†“ EF Core
SQLite/MySQL (database)
```

---

### ğŸ§­ **Final Roadmap Summary**

| Phase | Focus              | Tech Used                 | Result                           |
| ----- | ------------------ | ------------------------- | -------------------------------- |
| 1ï¸âƒ£   | Local File Version | C#, WinForms, .txt        | Works offline, meets course spec |
| 2ï¸âƒ£   | DB Upgrade         | C#, EF Core, SQLite/MySQL | Persistent and scalable          |
| 3ï¸âƒ£   | API Layer          | ASP.NET Core, Postman     | Enables remote/web access        |
| 4ï¸âƒ£   | Web UI             | Angular                   | Full modern web app              |

---

âœ… WHAT YOU HAVE DONE SO FAR (PHASE 1 COMPLETE)
âœ” Built the data model

You now have a clean separate project BookSmart.Data with:

Book.cs

Customer.cs

Rental.cs

Order.cs

BookSmartContext.cs (for EF Core later)

Your namespaces are consistent:
namespace BookSmart.Data.Models

âœ” Cleaned up your main project structure

Your main project BookSmart now correctly references:

BookSmart.Utils

BookSmart.Data.Models

You removed the duplicated Models folder that caused all build errors.

âœ” Fully implemented local storage with CSV using async File I/O

Your FileStorage.cs is complete and supports:

Load / Save Books

Load / Save Customers

Load / Save Rentals

Load / Save Orders
âœ” All using CSV and safe parsing
âœ” Works with non-English cultures (InvariantCulture)

âœ” UI behavior for Phase 1 is complete

You now have:

Search by title or author

Rental workflow

Return workflow with fee calculation

Customer dropdown auto-fills

Partial UI reveal logic (ToggleUI)

Simulated time (1 day = 5 seconds)

Order arrival system with simulated clock

Late fee checking

Everything loads from .txt files and saves back.

âœ” Fixed namespaces, using directives, and errors

MainForm.cs now references correct namespaces

Config.cs and FeeCalculator.cs fixed

Build errors removed

App starts normally

ğŸ‰ Conclusion: PHASE 1 IS 100% DONE 